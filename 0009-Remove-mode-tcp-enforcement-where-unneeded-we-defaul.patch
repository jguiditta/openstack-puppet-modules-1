From 89409414bdf16e99b99ae5a6c73a0ad7b8810204 Mon Sep 17 00:00:00 2001
From: Giulio Fidente <gfidente@redhat.com>
Date: Wed, 8 Jul 2015 13:27:13 +0200
Subject: [PATCH] Remove mode tcp enforcement where unneeded, we default to
 mode tcp

Change-Id: Ic0ae6b743a732ccd2cf7e395b5ab172bf3daaf7d
---
 tripleo/manifests/loadbalancer.pp | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/tripleo/manifests/loadbalancer.pp b/tripleo/manifests/loadbalancer.pp
index f9877a6..3826fcf 100644
--- a/tripleo/manifests/loadbalancer.pp
+++ b/tripleo/manifests/loadbalancer.pp
@@ -714,9 +714,6 @@ class tripleo::loadbalancer (
     haproxy::listen { 'glance_registry':
       ipaddress        => hiera('glance_registry_vip', $controller_virtual_ip),
       ports            => 9191,
-      options          => {
-        'mode' => 'tcp',
-      },
       collect_exported => false,
     }
     haproxy::balancermember { 'glance_registry':
@@ -964,7 +961,6 @@ class tripleo::loadbalancer (
       ports            => 6379,
       options          => {
         'timeout'   => [ 'client 0', 'server 0' ],
-        'mode'      => 'tcp',
         'balance'   => 'first',
         'option'    => ['tcp-check',],
         'tcp-check' => ['send info\ replication\r\n','expect string role:master'],
